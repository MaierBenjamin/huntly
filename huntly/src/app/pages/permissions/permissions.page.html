<ion-content [fullscreen]="true" class="task-background">
  <div class="main-container">

    <div class="white-card">

      <div class="emoji-container">
        <span class="main-emoji">ğŸ”</span>
      </div>

      <h1 class="title">Berechtigungen</h1>
      <p class="subtitle">Damit die Jagd beginnen kann, benÃ¶tigt Huntly Zugriff auf deine Sensoren:</p>

      <div class="perm-list">
        <div class="perm-item" [class.granted]="hasLocationPerm">
          <ion-icon name="location-outline"></ion-icon>
          <span>Standort (GPS)</span>
          <ion-icon class="status-icon" [name]="hasLocationPerm ? 'checkmark-circle' : 'alert-circle'"></ion-icon>
        </div>

        <div class="perm-item" [class.granted]="hasCameraPerm">
          <ion-icon name="camera-outline"></ion-icon>
          <span>Kamera (QR-Scan)</span>
          <ion-icon class="status-icon" [name]="hasCameraPerm ? 'checkmark-circle' : 'alert-circle'"></ion-icon>
        </div>
      </div>

      <button class="main-btn" *ngIf="!hasCameraPerm || !hasLocationPerm" (click)="requestPermissions()">
        Zugriff erlauben
      </button>

      <button class="main-btn success-btn" *ngIf="hasCameraPerm && hasLocationPerm" (click)="startGame()">
        Spiel starten
      </button>

      <button class="link-btn" (click)="bypass()">
        Browser-Test (Bypass)
      </button>

    </div>
  </div>
</ion-content>
